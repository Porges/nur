[package]
name = "nur-lib"
version = "0.0.1"
edition = "2021"
authors = [ "George Pollard <porges@porg.es>" ]
license = "GPL-3.0"
repository = "https://github.com/Porges/nur"

[features]
default = ["yaml"]
kdl = ["dep:knuffel"]
yaml = ["dep:serde", "dep:serde_yaml"]
nu = ["dep:nu-engine", "dep:nu-parser"]

[dependencies]
async-trait = "0.1.53"
command-group = { version= "1.0.8", features = ["with-tokio"] }
futures = "0.3.21"
knuffel = { version = "2.0.0", optional = true }
miette = { version = "4.7.1", features = [] }
nu-engine = { version = "0.62.0", optional = true }
nu-parser = { version = "0.62.0", optional = true }
nu-protocol = "0.62.0"
nu-table = "0.62.0"
petgraph = { version = "0.6.0", features = ["graphmap"] }
question = "0.2.2"
serde = { version = "1.0.137", optional = true }
serde_with = "1.13.0"
serde_yaml = { version = "0.8.24", optional = true }
thiserror = "1.0.31"
tokio = { version = "1.18.2", features = ["process", "io-util", "io-std", "sync", "fs", "macros"] }
tokio-util = "0.7.2"
void = "1.0.2"

[dev-dependencies]
goldenfile = "1.1.0"
tokio = { version = "1.18.2", features = ["process", "io-util", "io-std", "rt", "macros", "fs"] }
